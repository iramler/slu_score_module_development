---
title: "sportfilms"
format: html
editor: visual
---

```{r}
library(tidyverse)
```


```{r}
allSportFilms <- read.csv("agbign20/data/allSportsFilms.csv")
```

Manipulate how we want it to be
```{r}
allSportFilms <- allSportFilms[, -c(1,2,5,7,8)]
allSportFilms <- allSportFilms %>%
  mutate(runtimeMinutes = as.numeric(runtimeMinutes)) %>%
  filter(isAdult == "0")
allSportFilms <- allSportFilms[,-3]
```


```{r}
ggplot(allSportFilms, aes(x=averageRating)) + geom_bar()
ggplot(allSportFilms, aes(x=titleType)) + geom_bar() # mostly tv episodes
ggplot(allSportFilms, aes(x=runtimeMinutes)) + geom_bar() # lets look at this one closer
ggplot(allSportFilms, aes(x=sport)) + geom_bar() # mostly boxing movies
```

```{r}
allSportFilms %>% filter(runtimeMinutes <= 250) %>% ggplot(aes(x=runtimeMinutes)) + geom_bar()
# looks like about 40 and 60 minutes have the highest count, makes sense since tvepisode is the highest count of title type
```

Create a boxplot with sport on x axis (pick common sports), comedy and drama as different boxplot colors, and average rating on y axis

NOTE: Might need to change the genre variable to get different results
```{r}
comedyDramaSports <- allSportFilms %>% mutate(ComedyIND = ifelse(str_detect(genres,"Comedy"),"Comedy",NA),
         DramaIND = ifelse(str_detect(genres,"Drama"),"Drama",NA)) %>%
  pivot_longer(cols=ComedyIND:DramaIND,names_to=NULL,values_to="Type") %>%
  drop_na("Type") %>% select(primaryTitle, Year, Type, averageRating, sport) %>%
  filter(sport == "boxing" | sport == "football" | sport == "autoracing" | sport == "martialArts" | sport == "golf" | sport == "ice hockey")

ggplot(comedyDramaSports, aes(x = sport, y = averageRating, fill = Type)) + geom_boxplot()

```



Questions:
- should I filter by a certain range of years?
- some movies on here are on here duplicate times with different release years, should we filter those too?
- should I merge or just keep one of the genres
