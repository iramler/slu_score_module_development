---
title: Women's National Baskeball Assosiation game statistics
author: Kristen Varin
date: October 3, 2023
description: This data set contains team game statistics for 16 WNBA 
teams and for 20 seasons. 
categories:
  - Data cleaning
  - Data quality
editor: 
  markdown: 
    wrap: 72
---

## Motivation

The National Basketball Association (NBA) has dominated over the WNBA in popularity since the creation of the WNBA 50 years after that of the NBA. For this reason, there are way more data sets available for the NBA. Thus, there is a need for high quality WNBA data sets in order to run analysis on the players and teams. This data set can be used to demonstrate the process of cleaning, prepping, and determining quality of data.

## Data

This data set contains 8920 rows and 9 columns. Each row represents a single game played by a WNBA team in one of the 2003 to 2022 seasons.

| Variable              | Description                                                   |
|--------------------|----------------------------------------------------|
| game_id               | game id number                                                |
| season                | season number                                                 |
| season_type           | binary predictor; 2 if regular season game; 3 if playoff game |
| game_date             | date of the game                                              |
| team_id               | team id number                                                |
| team_display_name     | full team name (name and city)                                |
| team_winner           | Boolean; True is the team won the game                        |
| opponent_team_id      | id number of the opponent                                     |
| team_home_away        | Where the game was played; either "home" or "away"            |

: [wnba_data.csv](../data/wnba_data.csv)

## Questions

The goal will be to create a worksheet for the students telling them we want to predict whether a team makes playoffs based on their record halfway through the season. First, they will need to clean the data based on prompts. We will ask them what they notice about total games played by each team across seasons. They should recognize that the total games recorded is inconsistent between teams and with online wnba statistics. We will ask them why this is a problem and how the issue could be solved if we still wanted to run the original regression. 

- Load in the `wnba_data` data set.  

- What do you notice about the team IDs in this data set? Do they all belong to a valid team or are some not needed? (Hint: Might need to use the `distinct()` function). 

- Filter out the IDs we won’t be using. 

- Now, let's make sure each team ID is associated with the correct team name. Use a `select()` statement with both 	`team_id` and `team_name` and then use the `distinct()` function. Which team IDs are repeated? What might this mean?

- For the IDs you found, rename the teams so that the same IDs all have the most recent team name. You can create a new variable called `team_name`. 

- Now that our team names are correct, we can look at games played. Create a new data set called `reg_season` that only has data for regular season games (season_type == 2) and one called `playoffs` that only has data for playoff games (season_type == 3). 

- To calculate win percentage at the mid-way point, we need to know how many games are played in a season. Use the `tally()` function to count the number of games played by each team within each season. What do you notice? 

- Do some Google searching on how many games were played by WNBA teams during these seasons. You might find that the number of regular season games has fluctuated since 2020, but there is still a problem. Can you tell what it is? 

- Let’s look into the 2008 season. There are 4 teams that played 33 games instead of 34. Find out who these teams are and Google their season statistics. Did they actually only play 33 games? Why is this a problem? 

- What are some ways we could solve this problem if we still wanted to run the regression model originally indicated? 

## References

Gilani S, Hutchinson G (2022). *wehoop: Access Women's Basketball Play by Play Data*. R package version 1.5.0, <https://CRAN.R-project.org/package=wehoop>.
